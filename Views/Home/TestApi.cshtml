@model MovieListResponse
@{
    ViewData["Title"] = "Test API";
}

<div class="container">
    <h2>Test API Result</h2>
    <p>@Html.Raw(ViewBag.Message)</p>

    @if (Model?.Data != null && Model.Data.Any())
    {
        <h3>Danh sách phim:</h3>
        <ul>
            @foreach (var movie in Model.Data.Take(10))
            {
                <li>
                    @movie.Name (Slug: @movie.Slug) - Year: @movie.Year, Type: @movie.Loai_phim<br />
                    Poster: <img src="@(string.IsNullOrEmpty(movie.PosterUrl) ? "/placeholder.svg?height=450&width=300" : movie.PosterUrl)" alt="@movie.Name" style="width:100px;" onerror="this.src='/placeholder.svg?height=450&width=300'" /><br />
                    Backdrop: <img src="@(string.IsNullOrEmpty(movie.ThumbUrl) ? "/placeholder.svg?height=150&width=100" : movie.ThumbUrl)" alt="@movie.Name" style="width:100px;" onerror="this.src='/placeholder.svg?height=150&width=100'" />
                </li>
            }
        </ul>
    }
    else
    {
        <p>Không có phim nào được trả về từ API.</p>
    }

    @if (Model?.Pagination != null)
    {
        <h3>Phân trang:</h3>
        <p>Current Page: @Model.Pagination.Current_page, Total Pages: @Model.Pagination.Total_pages</p>
    }
</div>