2025-05-25 15:50:33.353 +07:00 [ERR] An error occurred while seeding the database.
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 242
2025-05-25 15:50:33.701 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 15:50:33.703 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T08:50:33.7031584+00:00"
2025-05-25 15:50:33.822 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 15:50:33.868 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:50:33.872 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 15:50:33.898 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:50:33.903 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 15:50:33.927 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:50:33.935 +07:00 [INF] MovieCacheService is running at: "2025-05-25T08:50:33.9355438Z"
2025-05-25 15:50:34.011 +07:00 [ERR] Hosting failed to start
System.ArgumentException: Redis connection string is not configured.
   at Program.<>c__DisplayClass0_0.<<Main>$>b__8(RedisCacheOptions options) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 124
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache..ctor(IOptions`1 optionsAccessor, ILogger logger)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCacheImpl..ctor(IOptions`1 optionsAccessor, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 42
   at WebAppApiPhim.Services.MovieCacheService.ExecuteAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 32
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-25 15:50:34.080 +07:00 [ERR] Error during movie synchronization from API
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 119
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.ExecuteAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 43
2025-05-25 15:50:34.084 +07:00 [INF] Completed movie synchronization. Waiting for next run at "2025-05-26T08:50:34.0839635+00:00"
2025-05-25 15:50:34.103 +07:00 [INF] SyncMoviesService is stopping due to cancellation.
2025-05-25 15:50:34.113 +07:00 [INF] SyncMoviesService is stopping.
2025-05-25 15:51:10.222 +07:00 [ERR] An error occurred while seeding the database.
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 242
2025-05-25 15:51:10.412 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 15:51:10.415 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T08:51:10.4143915+00:00"
2025-05-25 15:51:10.501 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 15:51:10.544 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:51:10.548 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 15:51:10.574 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:51:10.579 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 15:51:10.606 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:51:10.614 +07:00 [INF] MovieCacheService is running at: "2025-05-25T08:51:10.6141939Z"
2025-05-25 15:51:10.695 +07:00 [ERR] Hosting failed to start
System.ArgumentException: Redis connection string is not configured.
   at Program.<>c__DisplayClass0_0.<<Main>$>b__8(RedisCacheOptions options) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 124
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache..ctor(IOptions`1 optionsAccessor, ILogger logger)
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCacheImpl..ctor(IOptions`1 optionsAccessor, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 42
   at WebAppApiPhim.Services.MovieCacheService.ExecuteAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 32
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-25 15:51:10.770 +07:00 [ERR] Error during movie synchronization from API
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 119
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.ExecuteAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 43
2025-05-25 15:51:10.773 +07:00 [INF] Completed movie synchronization. Waiting for next run at "2025-05-26T08:51:10.7735547+00:00"
2025-05-25 15:54:15.008 +07:00 [ERR] An error occurred while seeding the database.
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 249
2025-05-25 15:54:15.181 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 15:54:15.185 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T08:54:15.1842280+00:00"
2025-05-25 15:54:15.261 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 15:54:15.299 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:15.302 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 15:54:15.324 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:15.328 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 15:54:15.350 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:15.358 +07:00 [INF] MovieCacheService is running at: "2025-05-25T08:54:15.3584955Z"
2025-05-25 15:54:15.394 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 15:54:15.398 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 15:54:17.381 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:54:20.354 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 15:54:20.387 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:20.390 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 15:54:20.411 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:20.415 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 15:54:20.434 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:30.437 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 15:54:30.462 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:30.466 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 15:54:30.489 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:30.493 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 15:54:30.517 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 15:54:30.521 +07:00 [ERR] Max retries (3) reached for page 1
2025-05-25 15:54:30.523 +07:00 [WRN] No movies found for page 1, stopping pagination
2025-05-25 15:54:30.526 +07:00 [INF] Completed movie synchronization. Waiting for next run at "2025-05-26T08:54:30.5263860+00:00"
2025-05-25 15:55:06.012 +07:00 [ERR] Error retrieving movie list
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at WebAppApiPhim.Controllers.MoviesController.GetMovies(Int32 page, Int32 limit) in C:\D\Leaning\API\APICode\WebAppApiPhim\Controllers\MoviesController.cs:line 71
2025-05-25 15:55:13.223 +07:00 [ERR] Error retrieving movie list
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at WebAppApiPhim.Controllers.MoviesController.GetMovies(Int32 page, Int32 limit) in C:\D\Leaning\API\APICode\WebAppApiPhim\Controllers\MoviesController.cs:line 71
2025-05-25 16:08:12.958 +07:00 [ERR] An error occurred while seeding the database.
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetRelationalService[TService](IInfrastructure`1 databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.MigrateAsync(DatabaseFacade databaseFacade, CancellationToken cancellationToken)
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 249
2025-05-25 16:08:13.255 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 16:08:13.259 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T09:08:13.2577319+00:00"
2025-05-25 16:08:13.383 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 16:08:13.430 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:13.434 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 16:08:13.461 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:13.465 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 16:08:13.489 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:13.498 +07:00 [INF] MovieCacheService is running at: "2025-05-25T09:08:13.4982386Z"
2025-05-25 16:08:13.534 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 16:08:13.540 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 16:08:15.230 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 16:08:18.494 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 16:08:18.527 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:18.531 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 16:08:18.553 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:18.557 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 16:08:18.576 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:28.580 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 16:08:28.608 +07:00 [WRN] Error fetching movies for page 1, version v3
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:28.612 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 16:08:28.634 +07:00 [WRN] Error fetching movies for page 1, version v2
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:28.639 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 16:08:28.661 +07:00 [WRN] Error fetching movies for page 1, version v1
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 409
   at WebAppApiPhim.BackgroundServices.SyncMoviesService.SyncMoviesAsync(CancellationToken stoppingToken) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\SyncMoviesService.cs:line 94
2025-05-25 16:08:28.667 +07:00 [ERR] Max retries (3) reached for page 1
2025-05-25 16:08:28.669 +07:00 [WRN] No movies found for page 1, stopping pagination
2025-05-25 16:08:28.672 +07:00 [INF] Completed movie synchronization. Waiting for next run at "2025-05-26T09:08:28.6726723+00:00"
2025-05-25 16:08:47.910 +07:00 [ERR] Error retrieving movie list
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at WebAppApiPhim.Controllers.MoviesController.GetMovies(Int32 page, Int32 limit) in C:\D\Leaning\API\APICode\WebAppApiPhim\Controllers\MoviesController.cs:line 71
2025-05-25 16:08:54.536 +07:00 [ERR] Error retrieving movie list
System.InvalidOperationException: The property 'CachedMovie.TrailerUrl' could not be mapped because it is of type 'object', which is not a supported primitive type or a valid entity type. Either explicitly map this property, or ignore it using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.<ValidatePropertyMapping>g__Validate|7_0(IConventionTypeBase typeBase, <>c__DisplayClass7_0&)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidatePropertyMapping(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.CheckState()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.AsNoTracking[TEntity](IQueryable`1 source)
   at WebAppApiPhim.Controllers.MoviesController.GetMovies(Int32 page, Int32 limit) in C:\D\Leaning\API\APICode\WebAppApiPhim\Controllers\MoviesController.cs:line 71
2025-05-25 17:31:04.041 +07:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[DisplayName], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UpdatedAt], [a].[UserName], [a].[Username]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-25 17:31:04.170 +07:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WebAppApiPhim.Data.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UpdatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c24c4f11-cbcf-4cfc-ae5a-566570fb944a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UpdatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c24c4f11-cbcf-4cfc-ae5a-566570fb944a
Error Number:207,State:1,Class:16
2025-05-25 17:31:04.378 +07:00 [ERR] An error occurred while seeding the database.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UpdatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at WebAppApiPhim.Data.DbSeeder.SeedAdminUserAsync(UserManager`1 userManager) in C:\D\Leaning\API\APICode\WebAppApiPhim\Data\DbSeeder.cs:line 42
   at WebAppApiPhim.Data.DbSeeder.Initialize(IServiceProvider serviceProvider, ApplicationDbContext context, UserManager`1 userManager, RoleManager`1 roleManager) in C:\D\Leaning\API\APICode\WebAppApiPhim\Data\DbSeeder.cs:line 68
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 250
ClientConnectionId:c24c4f11-cbcf-4cfc-ae5a-566570fb944a
Error Number:207,State:1,Class:16
2025-05-25 17:31:04.530 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 17:31:04.532 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T10:31:04.5321354+00:00"
2025-05-25 17:31:04.641 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 17:31:04.776 +07:00 [INF] MovieCacheService is running at: "2025-05-25T10:31:04.7761627Z"
2025-05-25 17:31:04.873 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 17:31:04.879 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 17:31:06.732 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 18:35:27.240 +07:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-05-25 18:37:12.031 +07:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] uniqueidentifier NOT NULL,
    [Username] nvarchar(50) NOT NULL,
    [Email] nvarchar(256) NOT NULL,
    [PasswordHash] nvarchar(max) NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NOT NULL,
    [DisplayName] nvarchar(100) NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-05-25 18:41:16.002 +07:00 [ERR] An error occurred while seeding the database.
System.InvalidOperationException: No service for type 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 249
2025-05-25 18:41:16.228 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 18:41:16.231 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T11:41:16.2307441+00:00"
2025-05-25 18:41:16.354 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 18:41:16.509 +07:00 [INF] MovieCacheService is running at: "2025-05-25T11:41:16.5090587Z"
2025-05-25 18:41:16.559 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 18:41:16.564 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 18:41:18.118 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 18:42:20.964 +07:00 [ERR] An error occurred while seeding the database.
System.InvalidOperationException: No service for type 'Microsoft.AspNetCore.Identity.RoleManager`1[Microsoft.AspNetCore.Identity.IdentityRole]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Program.<Main>$(String[] args) in C:\D\Leaning\API\APICode\WebAppApiPhim\Program.cs:line 249
2025-05-25 18:42:21.138 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 18:42:21.140 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T11:42:21.1395313+00:00"
2025-05-25 18:42:21.224 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 18:42:21.335 +07:00 [INF] MovieCacheService is running at: "2025-05-25T11:42:21.3350860Z"
2025-05-25 18:42:21.377 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 18:42:21.381 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 18:43:01.039 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-25 18:43:01.044 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-25 18:44:01.247 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: 'A task was canceled.', Handled: 'false', Attempt: '0', Execution Time: '99944.8467'
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Resilience.Internal.ResilienceHandler.<>c.<<SendAsync>b__2_0>d.MoveNext()
2025-05-25 18:44:01.413 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v3
System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Resilience.Internal.ResilienceHandler.<>c.<<SendAsync>b__2_0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Outcome`1.ThrowIfException()
   at Microsoft.Extensions.Http.Resilience.Internal.ResilienceHandler.SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 420
2025-05-25 18:44:01.423 +07:00 [WRN] No movie data received from API for page 1, version v3
2025-05-25 18:44:01.425 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 18:46:41.803 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 18:46:41.868 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T11:46:41.8668046+00:00"
2025-05-25 18:46:41.941 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 18:46:42.092 +07:00 [INF] MovieCacheService is running at: "2025-05-25T11:46:42.0922322Z"
2025-05-25 18:46:42.221 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 18:46:42.265 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 18:47:16.110 +07:00 [WRN] Health check elasticsearch with status "Degraded" completed after 4035.1965ms with message 'null'
System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:9200)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at HealthChecks.Uris.UriHealthCheck.CheckHealthAsync(HealthCheckContext context, CancellationToken cancellationToken) in /_/src/HealthChecks.Uris/UriHealthCheck.cs:line 54
2025-05-25 18:47:16.253 +07:00 [ERR] Error during health check
System.ArgumentNullException: Value cannot be null. (Parameter 'redisConnectionString')
   at Guard.ThrowIfNull[T](T argument, Boolean throwOnEmptyString, String paramName) in /_/src/CallerArgumentExpressionAttribute.cs:line 52
   at HealthChecks.Redis.RedisHealthCheck..ctor(String redisConnectionString) in /_/src/HealthChecks.Redis/RedisHealthCheck.cs:line 19
   at Microsoft.Extensions.DependencyInjection.RedisHealthCheckBuilderExtensions.<>c__DisplayClass2_0.<AddRedis>b__0(IServiceProvider sp) in /_/src/HealthChecks.Redis/DependencyInjection/RedisHealthCheckBuilderExtensions.cs:line 63
   at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
   at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)
   at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)
   at WebAppApiPhim.Controllers.HealthController.GetHealth() in C:\D\Leaning\API\APICode\WebAppApiPhim\Controllers\HealthController.cs:line 24
2025-05-25 18:47:37.854 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-25 18:47:37.857 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-25 18:52:00.352 +07:00 [INF] SyncMoviesService is starting.
2025-05-25 18:52:00.430 +07:00 [INF] Starting movie synchronization from API at "2025-05-25T11:52:00.4294201+00:00"
2025-05-25 18:52:00.536 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 18:52:00.643 +07:00 [INF] MovieCacheService is running at: "2025-05-25T11:52:00.6427336Z"
2025-05-25 18:52:00.744 +07:00 [ERR] Error during movie caching
System.NotImplementedException: The method or operation is not implemented.
   at WebAppApiPhim.Services.MovieApiService.WebAppApiPhim.Services.Interfaces.IMovieApiService.GetMoviesByCategoryAsync(String category, Int32 page) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 384
   at WebAppApiPhim.Services.MovieCacheService.CacheMoviesAsync() in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieCacheService.cs:line 50
2025-05-25 18:52:00.765 +07:00 [INF] CacheCleanupService is starting.
2025-05-25 18:52:01.114 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '504.1796'
2025-05-25 18:52:01.226 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v3
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:01.231 +07:00 [WRN] No movie data received from API for page 1, version v3
2025-05-25 18:52:01.233 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 18:52:01.320 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '83.2077'
2025-05-25 18:52:01.367 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v2
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:01.392 +07:00 [WRN] No movie data received from API for page 1, version v2
2025-05-25 18:52:01.395 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 18:52:01.477 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '79.9994'
2025-05-25 18:52:01.533 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v1
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:01.537 +07:00 [WRN] No movie data received from API for page 1, version v1
2025-05-25 18:52:06.540 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 18:52:06.626 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '81.6115'
2025-05-25 18:52:06.683 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v3
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:06.687 +07:00 [WRN] No movie data received from API for page 1, version v3
2025-05-25 18:52:06.688 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 18:52:06.768 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '76.5153'
2025-05-25 18:52:06.820 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v2
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:06.823 +07:00 [WRN] No movie data received from API for page 1, version v2
2025-05-25 18:52:06.825 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 18:52:06.908 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '80.156'
2025-05-25 18:52:06.960 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v1
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:06.963 +07:00 [WRN] No movie data received from API for page 1, version v1
2025-05-25 18:52:16.965 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v3
2025-05-25 18:52:17.049 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '81.5885'
2025-05-25 18:52:17.106 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v3
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:17.109 +07:00 [WRN] No movie data received from API for page 1, version v3
2025-05-25 18:52:17.111 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v2
2025-05-25 18:52:17.191 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '76.4011'
2025-05-25 18:52:17.244 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v2
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:17.247 +07:00 [WRN] No movie data received from API for page 1, version v2
2025-05-25 18:52:17.249 +07:00 [INF] Fetching movies from API: page 1, limit 10, version v1
2025-05-25 18:52:17.332 +07:00 [INF] Execution attempt. Source: 'IMovieApiService-MovieApiResilience//Retry', Operation Key: 'null', Result: '404', Handled: 'false', Attempt: '0', Execution Time: '80.7109'
2025-05-25 18:52:17.377 +07:00 [ERR] Error fetching latest movies: page 1, limit 10, version v1
System.Net.Http.HttpRequestException: Response status code does not indicate success: 404 (Not Found).
   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()
   at WebAppApiPhim.Services.MovieApiService.GetLatestMoviesAsync(Int32 page, Int32 limit, String version) in C:\D\Leaning\API\APICode\WebAppApiPhim\Services\MovieApiService.cs:line 421
2025-05-25 18:52:17.380 +07:00 [WRN] No movie data received from API for page 1, version v1
2025-05-25 18:52:17.382 +07:00 [ERR] Max retries (3) reached for page 1
2025-05-25 18:52:17.384 +07:00 [WRN] No movies found for page 1, stopping pagination
2025-05-25 18:52:17.386 +07:00 [INF] Completed movie synchronization. Waiting for next run at "2025-05-26T11:52:17.3862256+00:00"
2025-05-25 18:53:02.050 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-25 18:53:02.054 +07:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-05-25 18:53:48.411 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Endpoint WebAppApiPhim.Controllers.MetadataController.AddGenre (WebAppApiPhim) contains authorization metadata, but a middleware was not found that supports authorization.
Configure your application startup by adding app.UseAuthorization() in the application startup code. If there are calls to app.UseRouting() and app.UseEndpoints(...), the call to app.UseAuthorization() must go between them.
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.ThrowMissingAuthMiddlewareException(Endpoint endpoint)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 18:54:21.035 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-25 18:54:21.116 +07:00 [WRN] Movie with slug con-trai-ban-me not found in cache.
2025-05-25 18:54:21.118 +07:00 [WRN] Movie with slug con-trai-ban-me not found.
2025-05-25 18:55:10.658 +07:00 [WRN] Registration failed: Passwords must have at least one non alphanumeric character.
